@osui-input-class-prefix: osui-input;

.@{osui-input-class-prefix} {
    .@{ant-prefix}-select-single.@{ant-prefix}-select-open .@{ant-prefix}-select-selection-item {
        color: var(--theme-primary-color-active);
    }

    .@{ant-prefix}-input-group-addon {
        // affix select
        .osui-select {
            padding-top: 2px;
            padding-bottom: 2px;

            &.@{ant-prefix}-select-single.@{ant-prefix}-select-open .@{ant-prefix}-select-selection-item {
                color: var(--theme-primary-color-active);
            }

            &.@{ant-prefix}-select-focused {
                .@{ant-prefix}-select-selection-item {
                    color: var(--theme-primary-color-active);
                }
            }
        }
    }
}

/* stylelint-disable no-duplicate-selectors */
.@{osui-input-class-prefix} {
    // focus
    &.@{ant-prefix}-input-affix-wrapper:focus,
    &.@{ant-prefix}-input-affix-wrapper-focused,
    &.@{ant-prefix}-input:focus,
    &.@{ant-prefix}-input-focused {
        box-shadow: var(--input-focus-box-shadow);
    }

    .@{ant-prefix}-input-suffix > svg {
        width: var(--input-suffix-icon-size);
        height: var(--input-suffix-icon-size);
    }

    &-disabled {
        .@{ant-prefix}-input-group-addon {
            background: var(--theme-disabled-bg);
        }
    }

    &:not(&-disabled) {
        .@{ant-prefix}-input-group-addon {
            background: var(--theme-component-bg);

            &:hover {
                border-color: var(--theme-primary-color-hover);
            }

            &:active {
                border-color: var(--theme-primary-color-active);
            }

            &:first-child {
                border-right: 1px solid transparent;

                &:hover {
                    border-right: 1px solid var(--theme-primary-color-hover);
                }

                &:active {
                    border-right: 1px solid var(--theme-primary-color-active);
                }
            }

            &:last-child {
                border-left: 1px solid transparent;

                &:hover {
                    border-left: 1px solid var(--theme-primary-color-hover);
                }

                &:active {
                    border-right: 1px solid var(--theme-primary-color-active);
                }
            }
        }
    }

    &.@{ant-prefix}-input-affix-wrapper,
    & .@{ant-prefix}-input-affix-wrapper {
        padding-right: var(--input-affix-wrapper-padding-horizontal);
        padding-left: var(--input-affix-wrapper-padding-horizontal);
    }
    // search icon
    &-search-icon,
    .@{ant-prefix}-input-clear-icon {
        color: var(--color-gray-7);
        cursor: pointer;

        &:hover {
            color: var(--color-gray-8);
        }
    }

    .@{ant-prefix}-input-clear-icon {
        margin: 0 var(--input-affix-margin);
    }

    // 表单内报错样式覆盖
    .@{ant-prefix}-form-item-has-error & {
        .@{ant-prefix}-input-group-addon {
            border-color: var(--theme-error-color) !important;

            &:first-child {
                border-right: 1px solid transparent !important;
            }

            &:last-child {
                border-left: 1px solid transparent !important;
            }
        }

        &.@{ant-prefix}-input-affix-wrapper:not(.@{ant-prefix}-input-affix-wrapper-disabled) {
            border-color: var(--theme-error-color) !important;
        }
    }

    &[disabled],
    &-disabled {
        &,
        &.@{ant-prefix}-input,
        .@{ant-prefix}-input,
        .@{ant-prefix}-input-group-addon {
            border-color: var(--theme-border-color-disabled) !important;

            &:hover,
            &:active {
                border-color: var(--theme-border-color-disabled) !important;
            }
        }
    }

    .@{ant-prefix}-input-group .@{ant-prefix}-input-suffix .@{ant-prefix}-input-clear-icon {
        margin-right: 0;
    }
}

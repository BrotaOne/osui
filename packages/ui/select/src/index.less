@osui-select-class-prefix: osui-select;

.@{osui-select-class-prefix} {
    // placeholder
    .@{ant-prefix}-select-selection-placeholder {
        color: var(--color-gray-7);
        opacity: 1;
    }

    // disable
    &.@{ant-prefix}-select-disabled.@{ant-prefix}-select-single:not(.@{ant-prefix}-select-customize-input) {
        .@{ant-prefix}-select-selector {
            color: var(--theme-disabled-color);
            background: var(--select-disabled-bg);
            border-color: var(--theme-border-color-disabled);
        }

        .@{ant-prefix}-select-arrow svg {
            color: var(--color-gray-6);
        }
    }

    // arrow icon
    .@{ant-prefix}-select-arrow {
        top: var(--select-arrow-top);
        width: 14px;
        height: 14px;

        svg {
            color: var(--theme-disabled-color);
            font-size: 14px;
            transition: var(--select-arrow-transition);
        }
    }

    &.ant-select-sm {
        .@{ant-prefix}-select-arrow {
            top: var(--select-arrow-top-small);
        }

        .@{ant-prefix}-select-arrow + .@{ant-prefix}-select-clear {
            top: var(--select-clear-icon-top-small);
        }
    }

    &.ant-select-lg {
        .@{ant-prefix}-select-arrow {
            top: var(--select-arrow-top-large);
        }

        .@{ant-prefix}-select-arrow + .@{ant-prefix}-select-clear {
            top: var(--select-clear-icon-top-large);
        }
    }

    &.@{ant-prefix}-select-open .@{ant-prefix}-select-arrow:not(.@{ant-prefix}-select-arrow-loading) > svg {
        transform: var(--select-arrow-open-transform-rotate);
    }

    // no-border
    &&-no-border {
        .@{ant-prefix}-select-selector {
            background: transparent;
            border: 1px solid transparent;
            box-shadow: none;

            &:hover {
                background: var(--theme-component-bg);
            }
        }

        &.@{ant-prefix}-select-open .@{ant-prefix}-select-selector {
            background: var(--theme-component-bg);
            border: 1px solid var(--theme-primary-color-hover);
            box-shadow: 0 0 0 @outline-width var(--theme-border-focus-color);
        }
    }

    // 只有在arrow后面时，偏移30px
    .@{ant-prefix}-select-arrow + .@{ant-prefix}-select-clear {
        top: var(--select-clear-icon-top);
        right: var(--select-clear-icon-right);
        opacity: var(--select-clear-icon-opacity);
    }

    .@{ant-prefix}-select-clear {
        right: 11px;
        width: 14px;
        height: 14px;
        color: var(--color-gray-6);
        opacity: var(--select-clear-icon-opacity);

        &:hover {
            color: var(--color-gray-6);
        }
    }

    &.@{ant-prefix}-select-focused,
    &:hover {
        .@{ant-prefix}-select-clear {
            opacity: 1 !important; // hover时显示clearIcon，符合antd的效果，也符合osui需要效果
        }
    }
}

.@{osui-select-class-prefix}.@{ant-prefix}-select-multiple {
    .@{ant-prefix}-select-selection-item .@{ant-prefix}-select-selection-item-remove {
        color: var(--color-gray-6);
    }

    .@{ant-prefix}-select-selection-item {
        border: 1px solid var(--color-gray-3);
    }
}

// 多选下拉移动到左边，
.@{osui-select-class-prefix}-multiple-dropdown {
    .@{ant-prefix}-select-item.@{ant-prefix}-select-item-option,
    .@{ant-prefix}-select-item-option-selected {
        padding-left: 40px;
    }

    // 以下通过使用::before画出来未选中时的边框，border可以通过variables控制，TODO：大小也可以控制，但是position要相应调整
    .@{ant-prefix}-select-item.@{ant-prefix}-select-item-option {
        .@{ant-prefix}-select-item-option-content::before {
            @checkbox-size: 13px;

            position: absolute;
            top: 27%;
            left: 17px;
            display: table;
            width: @checkbox-size;
            height: @checkbox-size;
            border: 1px solid var(--theme-border-color-base);
            border-radius: @border-radius-base;
            content: '';
        }
    }

    .@{ant-prefix}-select-item-option-selected.@{ant-prefix}-select-item.@{ant-prefix}-select-item-option {
        .@{ant-prefix}-select-item-option-content::before {
            display: none;
        }
    }

    // 以下调整选中时的icon，外面可以进行替换
    .@{ant-prefix}-select-item-option-selected:not(.@{ant-prefix}-select-item-option-disabled) {
        .@{ant-prefix}-select-item-option-state {
            position: absolute;
            top: 17%;
            left: 17px;
        }
    }

    .@{osui-select-class-prefix}-check-icon {
        width: var(--select-check-icon-size);
        height: var(--select-check-icon-size);
    }
}

.@{osui-select-class-prefix}-dropdown {
    .@{ant-prefix}-select-item-option-active:not(.@{ant-prefix}-select-item-option-disabled) {
        &:hover {
            background-color: var(--select-item-active-bg);
        }

        &:active {
            background-color: var(--color-gray-4);
        }
    }
}
